#!/usr/bin/zsh
#### di edit oleh RydaÂ® - AmaN
#### put precmd somewhere like " .~/.tel/ " and start sourcing them in your " .zshrc " file like this:
#### . ~/.tel/precmd

preexec () {
  END=$SECONDS 
}

precmd () {

  # var
    # color
  BLACK='\e[30m'
  RED='\e[31m'
  GREEN='\e[32m'
 # BLUE='\e[34m'
  PINK=%{$'\e[35m'%}
        BG='\e[0;1;30;48;2;240;240;255m' #White
        BG_PINK=%{$'\e[45m'%}

        # mod
          RESET=%{$'\e[m'%}
          TEL="\e[3$(( RANDOM * 6 / 32767 + 1 ))mTEL"
      ary=(ğŸ‘¾ ğŸ’» ğŸ¨ ğŸˆ ğŸ“ ğŸ¦ƒ ğŸ¦š ğŸ¦œ ğŸ¢ ğŸ² ğŸ‰ ğŸ¼ ğŸ™ ğŸ³ ğŸ„ ğŸ”¥ ğŸš ğŸŒŠ ğŸ‰ ğŸ¥ ğŸ‹ ğŸ“’ ğŸ“• ğŸ“— ğŸ“˜ ğŸ“™ ğŸŒ ğŸŒ ğŸŒ ğŸ›« ğŸš€)
      ICON="${ary[RANDOM%${#ary[@]} + 1]}"

    # cmd
      START=$SECONDS
      DATE=$(date +%d/%m/%y)
      TIME=$(date +%H:%M:%S)
      DIR="[$NAME]â”€[~${PWD/#$HOME}]"
      BAT=$(termux-battery-status | grep perc | tr -d '[a-z]":, ' | sed s/$/%/)
      # BAT="cat /sys/class/power_supply/battery/capacity | sed s/$/%/"
  
    # calc
      GAP=$(( COLUMNS - 11 ))
      EXEC=$(( START - END ))
      GAP_1=$(( COLUMNS - ${#BAT} - 12 ))
      GAP_2=$(( COLUMNS - ${#DIR} - 12 ))
LINE=$(for i in {30..33} {33..30} ; do echo -en "\e[${i}mâ•" ; done ; echo)

    # prompt
     PS1="$BG_PINK "$EXEC"s $RESET$PINK $ICON "${HOME/*\/}"
  "âŸ«"$RESET "
      RPS1="$PINKî‚²$RESET$BG_PINK8 %(?;^^;--) $RESET"

  # cmd
tput cup "$(tput lines)" 0
    echo -e "$BG
$REDâ•­â• $ICON $TEL $RED${(l:$GAP::â•:)}â•®
$REDâ•‘$BLACK ï‰€ : $BAT${(l:$GAP_1:)TIME} : î„ $REDâ•‘
$GREENâ•‘$BLACK ï¼ : $DIR${(l:$GAP_2:)DATE} : ï‰´ $GREENâ•‘
$GREENâ•°â•${(l:$GAP::â•:)}$LINEâ•¯\e[m" }